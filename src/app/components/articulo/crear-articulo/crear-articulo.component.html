<div class="loading" *ngIf="loading">
  <mat-spinner></mat-spinner>
</div>



<form [formGroup]="formarticulo" (ngSubmit)="guardarArticulo($event)">

  <div class="content-inner-all">
    <!-- Breadcome start-->
    <div class="breadcome-area mg-b-30 small-dn">
      <div class="container-fluid">
        <div class="row">
          <div class="col-lg-12">
            <div class="breadcome-list shadow-reset">
              <div class="row">
                <div class="col-lg-6">
                  <div class="breadcome-heading">
                    <button type="submit" (mouseover)="cargarRequeridos($event)"
                    matTooltip="{{camposrequeridos}}"
                    class="form-control" [disabled]="formarticulo.invalid"><i class="fa fa-save"
                        aria-hidden="true"></i> Guardar
                    </button>
                  </div>
                </div>
                <div class="col-lg-6">
                  <ul class="breadcome-menu">
                    <li>
                      <a routerLink="/main/dashboard">Inicio</a>
                      <span class="bread-slash">/ Inventario /</span>
                    </li>
                    <li>
                      <a routerLink="/inventario/listararticulos"><span class="bread-blod">Listado de
                          Articulos /</span></a>
                    </li>
                    <li><span class="bread-blod">Crear</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Static Table Start -->

  <!-- Static Table Start -->
  <div class="content-inner-all">
    <div class="admin-dashone-data-table-area mg-b-15">
      <div class="container-fluid">
        <div class="row">
          <div class="col-lg-9">
            <div class="sparkline13-list shadow-reset">
              <div class="sparkline13-hd">
                <div class="main-sparkline13-hd">
                  <h1>
                    <i class="fa fa-edit" aria-hidden="true"></i>
                    Registro <span class="table-project-n">de</span> Articulos</h1>
                </div>
              </div>

              <div class="sparkline10-graph">
                <div class="row">
                  <div class="col-lg-3">
                    <div class="i-checks pull-left">
                      <label>
                        <input type="radio" formControlName="tipoproducto" checked="" value="1" name="tipoproducto" (change)="MostrarCamposTipoProducto($event.target.value)">
                        <i></i> Producto
                      </label>
                    </div>
                  </div>
                  <div class="col-lg-3">
                    <div class="i-checks pull-left">
                      <label>
                        <input type="radio" formControlName="tipoproducto" checked="" value="2" name="tipoproducto" (change)="MostrarCamposTipoProducto($event.target.value)">
                        <i></i> Servicio
                      </label>
                    </div>
                  </div>
                </div>
                <br>

                <div class="row">
                  <div class="col-lg-5">

                    <div id="pwd-container3">
                      <div class="form-group">
                        <label for="username">Codigo</label>
                        <input formControlName="codigo"
                          [ngClass]="{'invalid-data': codigo.invalid && (codigo.touched || codigo.dirty)}" type="text"
                          class="form-control" placeholder="Ingrese el Codigo" />
                        <div *ngIf="codigo.invalid  && (codigo.dirty || codigo.touched)">
                          <div *ngIf="codigo.errors.required">
                            Codigo Requerido
                          </div>
                          <div class="invalid-mensaje" *ngIf="codigo.errors.pattern">
                            Codigo Incorrecto
                          </div>
                        </div>
                      </div>
                    </div>
                    <div id="pwd-container3">
                      <div class="form-group">
                        <label for="username">Nombre</label>
                        <input formControlName="nomarticulo"
                          [ngClass]="{'invalid-data': nomarticulo.invalid && (nomarticulo.touched || nomarticulo.dirty)}"
                          type="text" class="form-control" placeholder="Ingrese el  Nombre del Articulo" />
                        <div *ngIf="nomarticulo.invalid  && (nomarticulo.dirty || nomarticulo.touched)">
                          <div *ngIf="nomarticulo.errors.required">
                            Nombre Requerido
                          </div>
                          <div class="invalid-mensaje" *ngIf="nomarticulo.errors.pattern">
                            Nombre Incorrecto
                          </div>
                        </div>
                      </div>
                    </div>
                    
                   
                    <div id="pwd-container3">
                      <div class="form-group">
                        <label for="username">Impuesto</label>
                        <select class="select2_demo_3 form-control" formControlName="codimpuesto">

                          <option value="0">--Seleccione--</option>
                          <option value="{{impuesto.idimpuesto}}" *ngFor="let impuesto of lstImpuestos">
                            {{impuesto.tipoimpuesto}} {{impuesto.normal}}%</option>

                        </select>
                      </div>
                    </div>
                   

                    

                  </div>
                  <div class="col-lg-5">
                    <div id="pwd-container3">
                      <div class="form-group">
                        <label for="username">Categoria</label>
                        <select class="select2_demo_3 form-control" formControlName="codfamilia">
                          <option>--Seleccione--</option>
                          <option value="{{familias.codfamilia}}" *ngFor="let familias of lstFamilias">
                            {{familias.nomfamilia}}</option>
                        </select>
                      </div>
                    </div>

                    <div id="pwd-container3">
                      <div class="form-group">
                        <label for="username">Precio Venta:</label>
                        <input formControlName="preciosugerido"
                          [ngClass]="{'invalid-data': preciosugerido.invalid && (preciosugerido.touched || preciosugerido.dirty)}"
                          type="text" class="form-control" placeholder="Ingrese el Precio de Venta" />
                        <div *ngIf="preciosugerido.invalid  && (preciosugerido.dirty || preciosugerido.touched)">
                          <div class="invalid-mensaje" *ngIf="preciosugerido.errors.pattern">
                            Precio Incorrecto
                          </div>
                        </div>
                      </div>
                    </div>
          

                    <div id="pwd-container3">
                      <div class="form-group">
                        <label for="username">Descripción Larga</label>
                        <textarea formControlName="descripcionlarga"
                          [ngClass]="{'invalid-data': descripcionlarga.invalid && (descripcionlarga.touched || descripcionlarga.dirty)}"
                          type="text" class="form-control" placeholder="Ingrese la Descripción Larga"></textarea>
                      </div>
                    </div>
                    <div id="pwd-container3">
                      <div class="form-group">
                        <label>
                          <input type="checkbox" formControlName="status" value="">
                          <i></i> Activo</label>
                      </div>
                    </div>

                  </div>
                </div>
        
                
                <div class="row">
                  <div class="col-lg-2">
                    <div id="pwd-container3">
                      <div class="form-group">
                        <label for="username">Unidad Medida</label>
                
                        <select class="select2_demo_3 form-control" formControlName="codunidadmedida">
                          <option value="null">--Seleccione--</option>
                          <option value="{{unidad.id}}" *ngFor="let unidad of lstUnidades">
                            {{unidad.nomunidadmedida}}</option>
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-3">
                    <div id="pwd-container3" *ngIf="visiblecostoxproducto">
                      <div class="form-group">
                        <label for="username">Costo X Unidad</label>
                        <input formControlName="preciosugerido"
                          [ngClass]="{'invalid-data': preciosugerido.invalid && (preciosugerido.touched || preciosugerido.dirty)}"
                          type="text" class="form-control" placeholder="Ingrese el Precio de Venta" />
                        <div *ngIf="preciosugerido.invalid  && (preciosugerido.dirty || preciosugerido.touched)">
                          <div class="invalid-mensaje" *ngIf="preciosugerido.errors.pattern">
                            Precio Incorrecto
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                  <div class="col-lg-3">
                    <div id="pwd-container3" *ngIf="visiblebodega">
                      <div class="form-group">
                        <label for="username">Bodega</label>
                        <div class="input-group">
                          <span class="input-group-btn"><button type="button" (click)="onCrearBodega()"
                              class="btn btn-primary">+</button></span>
                          <select class="select2_demo_3 form-control" formControlName="codbodega">
                  
                            <option value="0">--Seleccione--</option>
                            <option value="{{bodega.idalmacen}}" *ngFor="let bodega of lstAlmacenes">
                              {{bodega.nombre}}</option>
                  
                          </select>
                        </div>
                      </div>
                    </div>
                  
                  </div>
                  <div class="col-lg-2">
                    <div id="pwd-container3" *ngIf="visiblecantidad">
                      <div class="form-group">
                        <label for="username">Cantidad Inicial</label>
                        <input formControlName="preciosugerido"
                          [ngClass]="{'invalid-data': preciosugerido.invalid && (preciosugerido.touched || preciosugerido.dirty)}"
                          type="text" class="form-control" placeholder="Ingrese el Precio de Venta" />
                        <div *ngIf="preciosugerido.invalid  && (preciosugerido.dirty || preciosugerido.touched)">
                          <div class="invalid-mensaje" *ngIf="preciosugerido.errors.pattern">
                            Precio Incorrecto
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
                <div class="row">
                  <div class="col-lg-2">
                    <div id="pwd-container3" *ngIf="visiblecantidadminima">
                      <div class="form-group">
                        <label for="username">Cantidad Minima</label>
                        <input formControlName="preciosugerido"
                          [ngClass]="{'invalid-data': preciosugerido.invalid && (preciosugerido.touched || preciosugerido.dirty)}"
                          type="text" class="form-control" placeholder="Ingrese el Precio de Venta" />
                        <div *ngIf="preciosugerido.invalid  && (preciosugerido.dirty || preciosugerido.touched)">
                          <div class="invalid-mensaje" *ngIf="preciosugerido.errors.pattern">
                            Precio Incorrecto
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                  <div class="col-lg-3">
                    <div id="pwd-container3" *ngIf="visiblecantidadmaxima">
                      <div class="form-group">
                        <label for="username">Cantidad Maxima</label>
                        <input formControlName="preciosugerido"
                          [ngClass]="{'invalid-data': preciosugerido.invalid && (preciosugerido.touched || preciosugerido.dirty)}"
                          type="text" class="form-control" placeholder="Ingrese el Precio de Venta" />
                        <div *ngIf="preciosugerido.invalid  && (preciosugerido.dirty || preciosugerido.touched)">
                          <div class="invalid-mensaje" *ngIf="preciosugerido.errors.pattern">
                            Precio Incorrecto
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
                <div class="row">
                  <div class="col-lg-12">
                    <div class="project-details-tab">
                      <ul class="nav nav-tabs res-pd-less-sm">
                        <li class="active"><a data-toggle="tab" href="#home">Datos Básicos</a>
                        </li>
                        <li><a data-toggle="tab" href="#menu1">Empaque</a>
                        </li>
                        <li><a data-toggle="tab" href="#menu2">Documentos de Compra</a>
                        </li>
                        <li><a data-toggle="tab" href="#menu3">Documentos de Venta</a>
                        </li>
                        <li><a data-toggle="tab" href="#menu4">Movimientos de Almacén</a>
                        </li>
                        <li><a data-toggle="tab" href="#menu5">Contabilidad</a>
                        </li>
                      </ul>
                      <div class="tab-content res-tab-content-project">
                        <div id="home" class="tab-pane fade in active animated zoomInLeft">
                          <br>
                          <div class="row">
                            <div class="col-lg-5">

                              <div id="pwd-container3">
                                <div class="form-group">
                                  <label for="username">Referencia</label>
                                  <input formControlName="referencia"
                                    [ngClass]="{'invalid-data': referencia.invalid && (referencia.touched || referencia.dirty)}"
                                    type="text" class="form-control" placeholder="Ingrese la referencia del Articulo" />
                                  <div *ngIf="referencia.invalid  && (referencia.dirty || referencia.touched)">
                                    <div class="invalid-mensaje" *ngIf="referencia.errors.pattern">
                                      Referencia Incorrecto
                                    </div>
                                  </div>
                                </div>
                              </div>

                              <div id="pwd-container3">
                                <div class="form-group">
                                  <label for="username">Serial</label>
                                  <input formControlName="serial"
                                    [ngClass]="{'invalid-data': serial.invalid && (serial.touched || serial.dirty)}"
                                    type="text" class="form-control" placeholder="Ingrese el Serial del Articulo" />
                                  <div *ngIf="serial.invalid  && (serial.dirty || serial.touched)">
                                    <div class="invalid-mensaje" *ngIf="referencia.errors.pattern">
                                      Serial Incorrecto
                                    </div>
                                  </div>
                                </div>
                              </div>

                              <div id="pwd-container3">
                                <div class="form-group">
                                  <label for="username">Codigo de Barra</label>
                                  <input formControlName="codigobarraprincipal"
                                    [ngClass]="{'invalid-data': codigobarraprincipal.invalid && (codigobarraprincipal.touched || codigobarraprincipal.dirty)}"
                                    type="text" class="form-control"
                                    placeholder="Ingrese el Codigo de Barra del Articulo" />
                                  <div
                                    *ngIf="codigobarraprincipal.invalid  && (codigobarraprincipal.dirty || codigobarraprincipal.touched)">
                                    <div class="invalid-mensaje" *ngIf="codigobarraprincipal.errors.pattern">
                                      Codigo de Barra Incorrecto
                                    </div>
                                  </div>
                                </div>
                              </div>


                                <div id="pwd-container3">
                                  <div class="form-group">
                                    <label for="username">Marca</label>

                                    <select class="select2_demo_3 form-control" formControlName="codmarca">

                                      <option value="0">--Seleccione--</option>
                                      <option value="{{marca.codmarca}}" *ngFor="let marca of lstMarcas">
                                        {{marca.nommarca}}</option>


                                    </select>
                                  </div>

                                </div>


                           
                              </div>
                              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">

                                <br>
                                <div class="bt-df-checkbox pull-left">

                                  <div class="row">
                                    <div class="col-lg-12">
                                      <div class="i-checks pull-left">
                                        <label>
                                          <input type="checkbox" value="" checked="">
                                          <i></i> Maneja
                                          Existencia </label>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="row">
                                    <div class="col-lg-12">
                                      <div class="i-checks pull-left">
                                        <label>
                                          <input type="checkbox" value="" checked="">
                                          <i></i>
                                          Compuesto</label>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="row">
                                    <div class="col-lg-12">
                                      <div class="i-checks pull-left">
                                        <label>
                                          <input type="checkbox" value="" checked="">
                                          <i></i> Maneja
                                          Seriales</label>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="row">
                                    <div class="col-lg-12">
                                      <div class="i-checks pull-left">
                                        <label>
                                          <input type="checkbox" value="" checked="">
                                          <i></i>
                                          Facturable</label>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="row">
                                    <div class="col-lg-12">
                                      <div class="i-checks pull-left">
                                        <label>
                                          <input type="checkbox" value="" checked="">
                                          <i></i> Usa Empaque
                                        </label>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="row">
                                    <div class="col-lg-12">
                                      <div class="i-checks pull-left">
                                        <label>
                                          <input type="checkbox" value="" checked="">
                                          <i></i> Precio X
                                          Empaque</label>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <!-- TERMINA PESTAÑA HOME -->
                          <div id="menu1" class="tab-pane fade animated zoomInLeft">
                            <div class="row">
                              <div class="col-lg-8 col-md-8 col-sm-8 col-xs-12">
                                <div class="project-details-mg">
                                  <div class="static-table-list">
                                    <table class="table">
                                      <thead>
                                        <tr>
                                          <th></th>
                                          <th>Unidad</th>
                                          <th>Cantidad</th>
                                        </tr>
                                      </thead>
                                      <tbody>
                                        <tr>
                                          <td>
                                            <div class="i-checks pull-left">
                                              <label>
                                                <input type="checkbox" value="" checked=""> <i></i> </label>
                                            </div>
                                          </td>
                                          <td>Caja</td>
                                          <td>

                                          </td>


                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div id="menu2" class="tab-pane fade animated zoomInLeft">
                            <div class="row">
                              <div class="col-lg-8 col-md-8 col-sm-8 col-xs-12">
                                <div class="project-details-mg">
                                  <div class="static-table-list">
                                    <table class="table">
                                      <thead>
                                        <tr>
                                          <th></th>
                                          <th>Fecha</th>
                                          <th>Proveedor</th>
                                          <th>Cant. Comprada</th>
                                          <th>Precio</th>
                                          <th>Total</th>
                                          <th>Status</th>
                                        </tr>
                                      </thead>
                                      <tbody>
                                        <tr>
                                          <td>
                                            <div class="i-checks pull-left">
                                              <label>
                                                <input type="checkbox" value="" checked=""> <i></i> </label>
                                            </div>
                                          </td>
                                          <td></td>
                                          <td>

                                          </td>
                                          <td></td>
                                          <td></td>
                                          <td></td>
                                          <td></td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div id="menu3" class="tab-pane fade animated zoomInLeft">
                            <div class="row">
                              <div class="col-lg-8 col-md-8 col-sm-8 col-xs-12">
                                <div class="project-details-mg">
                                  <div class="static-table-list">
                                    <table class="table">
                                      <thead>
                                        <tr>

                                          <th>Fecha</th>
                                          <th>Movimiento</th>
                                          <th>Entrada</th>
                                          <th>Salida</th>
                                          <th>Precio/Costo</th>
                                          <th>Total</th>
                                          <th>Numero Documento</th>
                                          <th>Cliente/Proveedor</th>
                                        </tr>
                                      </thead>
                                      <tbody>
                                        <tr>

                                          <td></td>
                                          <td></td>
                                          <td></td>
                                          <td></td>
                                          <td></td>
                                          <td></td>
                                          <td></td>
                                          <td></td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div id="menu4" class="tab-pane fade animated zoomInLeft">
                            <div class="row">
                              <div class="col-lg-8 col-md-8 col-sm-8 col-xs-12">
                                <div class="project-details-mg">
                                  <div class="static-table-list">
                                    <table class="table">
                                      <thead>
                                        <tr>
                                          <th></th>
                                          <th>Fecha</th>
                                          <th>Proveedor</th>
                                          <th>Cant. Comprada</th>
                                          <th>Precio</th>
                                          <th>Total</th>
                                          <th>Status</th>
                                        </tr>
                                      </thead>
                                      <tbody>
                                        <tr>
                                          <td>
                                            <div class="i-checks pull-left">
                                              <label>
                                                <input type="checkbox" value="" checked=""> <i></i> </label>
                                            </div>
                                          </td>
                                          <td></td>
                                          <td>

                                          </td>
                                          <td></td>
                                          <td></td>
                                          <td></td>
                                          <td></td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          
                          <div id="menu5" class="tab-pane fade animated zoomInLeft">
                            <div class="row">
                              <div class="col-lg-8 col-md-8 col-sm-8 col-xs-12">
                               <br>
                                <div class="project-details-mg">
                                  <div class="row">
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                                      <div class="col-lg-4">
                                        <span><strong>Cuenta Contable:</strong></span>
                                      </div>
                                    </div>
                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-12">
                                      <div class="input-knob-dial-wrap">
                                        <div class="row">
                                          <div class="col-lg-12">
                                            <div class="chosen-select-single mg-b-20">
                                              <select class="select2_demo_3 form-control">
                                                <option>--Seleccione--</option>
                                                <option value="Bahamas">Ventas</option>
                                                <option value="Bahamas">Devolución en Ventas</option>
                                                <option value="Bahamas">Otros Ingresos</option>
                                                <option value="Bahamas">Ingresos Financieros</option>
                                                <option value="Bahamas">Otros Ingresos Diversos</option>
                                              </select>
                                            </div>
            
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </div>

            <div class="col-lg-3">
              <div class="sparkline8-list basic-res-b-30 shadow-reset">
                <div class="sparkline8-hd">
                  <div class="main-sparkline8-hd">
                    <h1>
                      <i class="fa fa-eye" aria-hidden="true"></i>
                      Imagen <span class="table-project-n"></span></h1>
                    <div class="sparkline8-outline-icon">
                      <span class="sparkline8-collapse-link"><i class="fa fa-chevron-up"></i></span>
                      <span><i class="fa fa-wrench"></i></span>
                      <span class="sparkline8-collapse-close"><i class="fa fa-times"></i></span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</form>